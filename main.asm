
#include        <msp430f5515.h>
;-------------------------------------------------------------------------------
                ORG     004400h
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
ZERO_   DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x00,0xFF,0xFF,0x00
        DB      0x0F,0xBE,0x07,0xF0
        DB      0x1F,0x9F,0x01,0xF8
        DB      0x3F,0x07,0x80,0xFC
        DB      0x7E,0x07,0xC0,0x7E
        DB      0xFC,0x03,0xE0,0x3F
        DB      0xFC,0x01,0xF0,0x3F
        DB      0xFC,0x00,0xF8,0x3F
        DB      0xFC,0x00,0x7C,0x3F
        DB      0x7E,0x00,0x3E,0x7E
        DB      0x3F,0x00,0x1F,0xFC
        DB      0x1F,0x80,0x0F,0xF8
        DB      0x0F,0xE0,0x03,0xF0
        DB      0x00,0xFF,0xFF,0x00
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
ONE_    DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x0F,0xFF,0xF0,0x00
        DB      0x00,0xFF,0xF0,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
TWO_    DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0x3F,0xC0,0x00,0x00
        DB      0x07,0xF8,0x00,0x00
        DB      0x00,0x7F,0x80,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x01,0xFE,0x00
        DB      0x00,0x00,0x3F,0xC0
        DB      0x00,0x00,0x07,0xF8
        DB      0x00,0x00,0x00,0xFF
        DB      0xFF,0x00,0x00,0x7F
        DB      0x3F,0xC0,0x03,0xFC
        DB      0x07,0xF8,0x1F,0xE0
        DB      0x00,0xFF,0xFF,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
THREE_  DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x00,0xFF,0xFF,0x00
        DB      0x07,0xF8,0x1F,0xE0
        DB      0x3F,0xC0,0x03,0xFC
        DB      0xFF,0x00,0x00,0xFF
        DB      0x00,0x00,0x07,0xF8
        DB      0x00,0x00,0x3F,0xC0
        DB      0x00,0x01,0xFE,0x00
        DB      0x00,0x3F,0xF0,0x00
        DB      0x00,0x01,0xFE,0x00
        DB      0x00,0x00,0x3F,0xC0
        DB      0x00,0x00,0x07,0xF8
        DB      0x00,0x00,0x00,0xFF
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
FOUR_   DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x00,0x00,0x0F,0xC0
        DB      0x00,0x00,0x0F,0xC0
        DB      0x00,0x00,0x0F,0xC0
        DB      0x00,0x00,0x0F,0xC0
        DB      0x00,0x00,0x0F,0xC0
        DB      0x00,0x00,0x0F,0xC0
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0xFC,0x00,0x0F,0xC0
        DB      0x3F,0x00,0x0F,0xC0
        DB      0x0F,0xC0,0x0F,0xC0
        DB      0x03,0xF0,0x0F,0xC0
        DB      0x00,0xFC,0x0F,0xC0
        DB      0x00,0x3F,0x0F,0xC0
        DB      0x00,0x0F,0xFF,0xC0
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
FIVE_   DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x00,0xFF,0xFF,0x00
        DB      0x07,0xF8,0x1F,0xE0
        DB      0x3F,0xC0,0x03,0xFC
        DB      0xFF,0x00,0x00,0xFF
        DB      0x00,0x00,0x07,0xF8
        DB      0x00,0x00,0x3F,0xC0
        DB      0x00,0x01,0xFE,0x00
        DB      0x00,0xFF,0xF0,0x00
        DB      0x3F,0xF0,0x00,0x00
        DB      0xFF,0x00,0x00,0x00
        DB      0xFF,0x00,0x00,0x00
        DB      0xFF,0x00,0x00,0x00
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
SIX_    DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x01,0xFF,0xFF,0x80
        DB      0x3F,0xC0,0x03,0xFC
        DB      0xFF,0x00,0x00,0xFF
        DB      0xFF,0x00,0x03,0xFC
        DB      0xFF,0x00,0x7F,0xF0
        DB      0xFF,0xFF,0xF0,0x00
        DB      0xFF,0x00,0x00,0x00
        DB      0xFF,0x00,0x00,0x00
        DB      0xFF,0x00,0x00,0x00
        DB      0xFF,0x00,0x00,0xFF
        DB      0x3F,0xC0,0x03,0xFC
        DB      0x01,0xFE,0x7F,0x80
        DB      0x00,0x3F,0xFC,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
SEVEN_  DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x3F,0xC0,0x00,0x00
        DB      0x0F,0xF0,0x00,0x00
        DB      0x03,0xFC,0x00,0x00
        DB      0x00,0xFF,0x00,0x00
        DB      0x00,0x3F,0xC0,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x03,0xFC,0x00
        DB      0x00,0x00,0xFF,0x00
        DB      0x00,0x00,0x3F,0xC0
        DB      0x00,0x00,0x0F,0xF0
        DB      0x00,0x00,0x03,0xFC
        DB      0x00,0x00,0xFF,0xFF
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
EIGHT_  DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x00,0x0F,0xF0,0x00
        DB      0x01,0xFE,0x7F,0x80
        DB      0x3F,0xC0,0x03,0xFC
        DB      0xFF,0x00,0x00,0xFF
        DB      0x3F,0xC0,0x03,0xFC
        DB      0x01,0xFF,0xFF,0x80
        DB      0x00,0x0F,0xF0,0x00
        DB      0x01,0xFF,0xFF,0x80
        DB      0x3F,0xC0,0x03,0xFC
        DB      0xFF,0x00,0x00,0xFF
        DB      0x3F,0xC0,0x03,0xFC
        DB      0x01,0xFE,0x7F,0x80
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x03,0xC0,0x00
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
NINE_   DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x3F,0xFC,0x00
        DB      0x01,0xFE,0x7F,0x80
        DB      0x3F,0xC0,0x03,0xFC
        DB      0xFF,0x00,0x00,0xFF
        DB      0x00,0x00,0x00,0xFF
        DB      0x00,0x00,0x00,0xFF
        DB      0x00,0x00,0x00,0xFF
        DB      0x00,0x0F,0xFF,0xFF
        DB      0x0F,0xFE,0x00,0xFF
        DB      0x3F,0xC0,0x00,0xFF
        DB      0xFF,0x00,0x00,0xFF
        DB      0x3F,0xC0,0x03,0xFC
        DB      0x01,0xFF,0xFF,0x80
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
A_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x60,0x00,0x00,0x06
        DB      0x30,0x00,0x00,0x0C
        DB      0x18,0x00,0x00,0x18
        DB      0x0C,0x00,0x00,0x30
        DB      0x06,0x00,0x00,0x60
        DB      0x03,0xFF,0xFF,0xC0
        DB      0x01,0x80,0x01,0x80
        DB      0x00,0xC0,0x03,0x00
        DB      0x00,0x60,0x06,0x00
        DB      0x00,0x30,0x0C,0x00
        DB      0x00,0x18,0x18,0x00
        DB      0x00,0x0C,0x30,0x00
        DB      0x00,0x06,0x60,0x00
        DB      0x00,0x01,0x80,0x00
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
B_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xFF,0xFF,0xFF,0x00
        DB      0xF0,0x00,0x00,0xE0
        DB      0xF0,0x00,0x00,0x70
        DB      0xF0,0x00,0x00,0x70
        DB      0xF0,0x00,0x00,0xE0
        DB      0xFF,0xFF,0xFF,0x00
        DB      0xF0,0x00,0x00,0xC0
        DB      0xF0,0x00,0x00,0xE0
        DB      0xF0,0x00,0x00,0x70
        DB      0xF0,0x00,0x00,0x70
        DB      0xF0,0x00,0x00,0x70
        DB      0xF0,0x00,0x00,0xE0
        DB      0xF0,0x00,0x00,0xC0
        DB      0xFF,0xFF,0xFF,0x00
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
C_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x00,0x7F,0xF7,0x00
        DB      0x03,0xC0,0x07,0x00
        DB      0x1E,0x00,0x01,0xE0
        DB      0x3C,0x00,0x00,0x60
        DB      0x78,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0x78,0x00,0x00,0x00
        DB      0x3C,0x00,0x00,0x00
        DB      0x1E,0x00,0x00,0x00
        DB      0x03,0xC0,0x03,0x80
        DB      0x00,0x78,0x0E,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
D_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xFF,0xFF,0xF0,0x00
        DB      0xF0,0x00,0x1E,0x00
        DB      0xF0,0x00,0x07,0xC0
        DB      0xF0,0x00,0x00,0xE0
        DB      0xF0,0x00,0x00,0xF0
        DB      0xF0,0x00,0x00,0xF0
        DB      0xF0,0x00,0x00,0xF0
        DB      0xF0,0x00,0x00,0x70
        DB      0xF0,0x00,0x00,0xC0
        DB      0xF0,0x00,0x03,0x80
        DB      0xF0,0x00,0x0F,0x00
        DB      0xF0,0x00,0x17,0x00
        DB      0xF0,0x00,0x78,0x00
        DB      0xFF,0xFF,0xF0,0x00
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
E_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xFF,0xFF,0xFF,0xFC
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xFF,0xFF,0xF0,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xFF,0xFF,0xFF,0xFC
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
F_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xFF,0xFF,0xF0,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xFF,0xFF,0xFF,0xF0
        DB      0xFF,0xFF,0xFF,0xF0
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
G_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x00,0x7F,0xFE,0x00
        DB      0x03,0xC0,0x07,0x00
        DB      0x1E,0x00,0x01,0x70
        DB      0x78,0x00,0x00,0x60
        DB      0xF0,0x03,0xFF,0xE0
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0x78,0x00,0x00,0x00
        DB      0x3C,0x00,0x00,0x00
        DB      0x1E,0x00,0x00,0x00
        DB      0x03,0xC0,0x03,0x80
        DB      0x00,0x78,0x07,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
H_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
I_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
J_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x01,0xFF,0xF8,0x00
        DB      0x0F,0x00,0x0F,0x00
        DB      0xFC,0x00,0x01,0xF0
        DB      0x00,0x00,0x00,0xF0
        DB      0x00,0x00,0x00,0xF0
        DB      0x00,0x00,0x00,0xF0
        DB      0x00,0x00,0x00,0xF0
        DB      0x00,0x00,0x00,0xF0
        DB      0x00,0x00,0x00,0xF0
        DB      0x00,0x00,0x00,0xF0
        DB      0x00,0x00,0x00,0xF0
        DB      0x00,0x00,0x00,0xF0
        DB      0x00,0x00,0x00,0xF0
        DB      0x00,0x00,0x00,0xF0
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
K_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xF0,0x00,0x01,0xF0
        DB      0xF0,0x00,0x1F,0x00
        DB      0xF0,0x01,0xF0,0x00
        DB      0xF0,0x1F,0x00,0x00
        DB      0xF0,0xF0,0x00,0x00
        DB      0xFF,0x10,0x00,0x00
        DB      0xF0,0xF0,0x00,0x00
        DB      0xF0,0x1E,0x00,0x00
        DB      0xF0,0x03,0xC0,0x00
        DB      0xF0,0x00,0x78,0x00
        DB      0xF0,0x00,0x1E,0x00
        DB      0xF0,0x00,0x07,0x10
        DB      0xF0,0x00,0x00,0xF0
        DB      0xF0,0x00,0x00,0x3C
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
L_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xFF,0xFF,0xFF,0xFC
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
M_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x07,0xE0,0x0F
        DB      0xF0,0x1C,0x38,0x0F
        DB      0xF0,0x38,0x1C,0x0F
        DB      0xF0,0x70,0x0E,0x0F
        DB      0xF0,0xE0,0x07,0x0F
        DB      0xF1,0xC0,0x03,0x1F
        DB      0xF3,0x80,0x01,0xCF
        DB      0xF7,0x00,0x00,0xEF
        DB      0xFE,0x00,0x00,0x7F
        DB      0xFC,0x00,0x00,0x3F
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
N_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xF0,0x00,0x00,0x1F
        DB      0xF0,0x00,0x00,0x7F
        DB      0xF0,0x00,0x03,0xEF
        DB      0xF0,0x00,0x0F,0x1F
        DB      0xF0,0x00,0x3E,0x0F
        DB      0xF0,0x00,0xF8,0x0F
        DB      0xF0,0x03,0xE0,0x0F
        DB      0xF0,0x0F,0x80,0x0F
        DB      0xF0,0x3E,0x00,0x0F
        DB      0xF0,0xF8,0x00,0x0F
        DB      0xF3,0xE0,0x00,0x0F
        DB      0xFF,0x80,0x00,0x0F
        DB      0xFE,0x00,0x00,0x0F
        DB      0xF8,0x00,0x00,0x0F
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
O_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x00,0xFF,0xFF,0x00
        DB      0x0F,0xC0,0x03,0xF0
        DB      0x1F,0x80,0x01,0xF8
        DB      0x3F,0x00,0x00,0xFC
        DB      0x7E,0x00,0x00,0x7E
        DB      0xFC,0x00,0x00,0x3F
        DB      0xFC,0x00,0x00,0x3F
        DB      0xFC,0x00,0x00,0x3F
        DB      0xFC,0x00,0x00,0x3F
        DB      0x7E,0x00,0x00,0x7E
        DB      0x3F,0x00,0x00,0xFC
        DB      0x1F,0x80,0x01,0xF8
        DB      0x0F,0xC0,0x03,0xF0
        DB      0x00,0xFF,0xFF,0x00
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
P_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0xFF,0xFF,0xFF,0xFC
        DB      0xF0,0x00,0x00,0x0E
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0E
        DB      0xFF,0xFF,0xFF,0xFC
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
Q_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x00,0xFF,0xFF,0x3E
        DB      0x0F,0xC0,0x07,0xF0
        DB      0x1F,0x80,0x1F,0xF8
        DB      0x3F,0x00,0x7C,0xFC
        DB      0x7E,0x01,0xF0,0x7E
        DB      0xFC,0x07,0xC0,0x3F
        DB      0xFC,0x00,0x00,0x3F
        DB      0xFC,0x00,0x00,0x3F
        DB      0xFC,0x00,0x00,0x3F
        DB      0x7E,0x00,0x00,0x7E
        DB      0x3F,0x00,0x00,0xFC
        DB      0x1F,0x80,0x01,0xF8
        DB      0x0F,0xC0,0x03,0xF0
        DB      0x00,0xFF,0xFF,0x00
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
R_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xF0,0x00,0x00,0xFF
        DB      0xF0,0x00,0x0F,0xE0
        DB      0xF0,0x00,0xFE,0x00
        DB      0xF0,0x0F,0xE0,0x00
        DB      0xF0,0xFE,0x00,0x00
        DB      0xFF,0xE0,0x00,0x00
        DB      0xFF,0xFF,0xFF,0xFC
        DB      0xF0,0x00,0x00,0x0E
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0E
        DB      0xFF,0xFF,0xFF,0xFC
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
S_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xFF,0xFF,0xFF,0xF0
        DB      0x00,0x00,0x00,0x1C
        DB      0x00,0x00,0x00,0x1E
        DB      0x00,0x00,0x00,0x0F
        DB      0x00,0x00,0x00,0x0F
        DB      0x00,0x00,0x00,0x1E
        DB      0x00,0x00,0x00,0x1C
        DB      0x1F,0xFF,0xFF,0xF0
        DB      0x30,0x00,0x00,0x00
        DB      0x70,0x00,0x00,0x00
        DB      0xF0,0x00,0x00,0x00
        DB      0x70,0x00,0x00,0x00
        DB      0x30,0x00,0x00,0x00
        DB      0x1F,0xFF,0xFF,0xF0
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
T_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
U_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x0F,0xFF,0xFF,0xF0
        DB      0x30,0x00,0x00,0x0C
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
V_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x00,0x03,0xC0,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x1E,0x78,0x00
        DB      0x00,0x3C,0x3C,0x00
        DB      0x00,0x78,0x1E,0x00
        DB      0x00,0xF0,0x0F,0x00
        DB      0x01,0xE0,0x07,0x80
        DB      0x03,0xC0,0x03,0xC0
        DB      0x07,0x80,0x01,0xE0
        DB      0x0F,0x00,0x00,0xF0
        DB      0x1E,0x00,0x00,0x71
        DB      0x3C,0x00,0x00,0x3C
        DB      0x78,0x00,0x00,0x1E
        DB      0xF0,0x00,0x00,0x0F
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
W_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xFC,0x00,0x00,0x3F
        DB      0xFE,0x00,0x00,0x7F
        DB      0xF7,0x00,0x00,0xEF
        DB      0xF3,0x80,0x01,0xCF
        DB      0xF1,0xC0,0x03,0x1F
        DB      0xF0,0xE0,0x07,0x0F
        DB      0xF0,0x70,0x0E,0x0F
        DB      0xF0,0x38,0x1C,0x0F
        DB      0xF0,0x1C,0x38,0x0F
        DB      0xF0,0x07,0xE0,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0xF0,0x00,0x00,0x0F
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
X_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xE0,0x00,0x00,0x07
        DB      0x38,0x00,0x00,0x1C
        DB      0x0E,0x00,0x00,0x70
        DB      0x03,0x80,0x01,0xC0
        DB      0x00,0xE0,0x07,0x00
        DB      0x00,0x38,0x1C,0x00
        DB      0x00,0x1C,0x38,0x00
        DB      0x00,0x07,0xE0,0x00
        DB      0x00,0x38,0x1C,0x00
        DB      0x00,0xE0,0x07,0x00
        DB      0x03,0x80,0x01,0xC0
        DB      0x0E,0x00,0x00,0x70
        DB      0x03,0x80,0x00,0x1C
        DB      0xE0,0x00,0x00,0x07
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
Y_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0x00,0x03,0xC0,0x00
        DB      0x00,0x03,0xC0,0x00
        DB      0x00,0x03,0xC0,0x00
        DB      0x00,0x03,0xC0,0x00
        DB      0x00,0x03,0xC0,0x00
        DB      0x00,0x03,0xC0,0x00
        DB      0x00,0x03,0xC0,0x00
        DB      0x00,0x0F,0xF0,0x00
        DB      0x00,0x3C,0x3C,0x00
        DB      0x00,0xF0,0x0F,0x00
        DB      0x03,0xC0,0x03,0xC0
        DB      0x0F,0x00,0x00,0xF0
        DB      0x3C,0x00,0x00,0x3C
        DB      0xF0,0x00,0x00,0x0F
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
Z_      DB      0x00,0x00,0x00,0x00     ;Clear initially
	DB      0x00,0x00,0x00,0x00     ;Clear initially
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0x78,0x00,0x00,0x00
        DB      0x1E,0x00,0x00,0x00
        DB      0x03,0xC0,0x00,0x00
        DB      0x00,0x71,0x00,0x00
        DB      0x00,0x1E,0x00,0x00
        DB      0x00,0x03,0xC0,0x00
        DB      0x00,0x00,0x78,0x00
        DB      0x00,0x00,0x1E,0x00
        DB      0x00,0x00,0x06,0xE0
        DB      0x00,0x00,0x00,0x78
        DB      0x00,0x00,0x00,0x1E
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0xFF,0xFF,0xFF,0xFF
        DB      0x00,0x00,0x00,0x00     ;Clear finally
	DB      0x00,0x00,0x00,0x00     ;Clear finally
;-------------------------------------------------------------------------------
NULL_      DB      0xAA,0x00             ;Sentinel value for text
;-------------------------------------------------------------------------------
HAPPY_FACE_     DB      0x00,0x00,0x00,0x00     ;Clear initially
                DB      0x00,0x7F,0xFE,0x00     
                DB      0x0F,0xF0,0x0F,0xF0     
                DB      0x0E,0x00,0x00,0x70     
                DB      0x00,0x01,0x80,0x00     
                DB      0x00,0x00,0x00,0x00     
                DB      0x01,0xF8,0x1F,0x80     
                DB      0x01,0xF8,0x1F,0x80     
                DB      0x00,0x00,0x00,0x00     ;Clear finally
                DB      0xAA,0x00               ;Sentinel value (exit loop)
;-------------------------------------------------------------------------------
CHECKERBOARD_   DB      0x00,0x00,0x00,0x00     ;Clear initially
                DB      0xFF,0x00,0xFF,0x00     
                DB      0xFF,0x00,0xFF,0x00     
                DB      0x00,0xFF,0x00,0xFF     
                DB      0x00,0xFF,0x00,0xFF     
                DB      0xFF,0x00,0xFF,0x00     
                DB      0xFF,0x00,0xFF,0x00     
                DB      0x00,0xFF,0x00,0xFF     
                DB      0x00,0xFF,0x00,0xFF     
                DB      0xFF,0x00,0xFF,0x00     
                DB      0xFF,0x00,0xFF,0x00     
                DB      0x00,0xFF,0x00,0xFF     
                DB      0x00,0xFF,0x00,0xFF     
                DB      0xFF,0x00,0xFF,0x00     
                DB      0xFF,0x00,0xFF,0x00     
                DB      0x00,0xFF,0x00,0xFF     
                DB      0x00,0xFF,0x00,0xFF     
                DB      0xFF,0x00,0xFF,0x00     
                DB      0xFF,0x00,0xFF,0x00     
                DB      0x00,0xFF,0x00,0xFF     
                DB      0x00,0xFF,0x00,0xFF     
                DB      0x00,0x00,0x00,0x00     ;Clear finally
                DB      0xAA,0x00               ;Sentinel value (exit loop)
;-------------------------------------------------------------------------------
DIAMOND_        DB      0x00,0x00,0x00,0x00     ;Clear initially
                DB      0x00,0x01,0x80,0x00     
                DB      0x00,0x03,0xC0,0x00     
                DB      0x00,0x0F,0xF0,0x00     
                DB      0x00,0x3F,0xFC,0x00     
                DB      0x00,0xFF,0xFF,0x00     
                DB      0x03,0xFF,0xFF,0xC0     
                DB      0x0F,0xFF,0xFF,0xF0     
                DB      0x3F,0xFF,0xFF,0xFC     
                DB      0xFF,0xFF,0xFF,0xFF     
                DB      0x3F,0xFF,0xFF,0xFC     
                DB      0x0F,0xFF,0xFF,0xF0     
                DB      0x03,0xFF,0xFF,0xC0     
                DB      0x00,0xFF,0xFF,0x00     
                DB      0x00,0x3F,0xFC,0x00     
                DB      0x00,0x0F,0xF0,0x00     
                DB      0x00,0x03,0xC0,0x00     
                DB      0x00,0x01,0x80,0x00     
                DB      0x00,0x00,0x00,0x00     ;Clear finally
                DB      0xAA,0x00               ;Sentinel value (exit loop)
;-------------------------------------------------------------------------------
DOWN_ARROW_     DB      0x00,0x00,0x00,0x00     ;Clear initially
                DB      0x00,0x01,0x80,0x00     ;               --
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x0F,0xF0,0x00     ;            --------
                DB      0x00,0x3F,0xFC,0x00     ;          ------------
                DB      0x00,0xFF,0xFF,0x00     ;        ----------------
                DB      0x03,0xFF,0xFF,0xC0     ;      --------------------
                DB      0x0F,0xFF,0xFF,0xF0     ;    ------------------------
                DB      0x3F,0xFF,0xFF,0xFC     ;  ----------------------------
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x00,0x00,0x00     ;Clear finally
                DB      0xAA,0x00               ;Sentinel value (exit loop)
;-------------------------------------------------------------------------------
UP_ARROW_       DB      0x00,0x00,0x00,0x00     ;Clear initially
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x3F,0xFF,0xFF,0xFC     ;  ----------------------------
                DB      0x0F,0xFF,0xFF,0xF0     ;    ------------------------
                DB      0x03,0xFF,0xFF,0xC0     ;      --------------------
                DB      0x00,0xFF,0xFF,0x00     ;        ----------------
                DB      0x00,0x3F,0xFC,0x00     ;          ------------
                DB      0x00,0x0F,0xF0,0x00     ;            --------
                DB      0x00,0x03,0xC0,0x00     ;              ----
                DB      0x00,0x01,0x80,0x00     ;               --
                DB      0x00,0x00,0x00,0x00     ;Clear finally
                DB      0xAA,0x00               ;Sentinel value (exit loop)
;-------------------------------------------------------------------------------
HEART_          DB      0x00,0x00,0x00,0x00     ;Clear initially
                DB      0x00,0x01,0x80,0x00     ;               --               
                DB      0x00,0x07,0xE0,0x00     ;             ------
                DB      0x00,0x1F,0xF8,0x00     ;           ----------
                DB      0x00,0x7F,0xFE,0x00     ;         --------------
                DB      0x01,0xFF,0xFF,0x10     ;       ------------------
                DB      0x07,0xFF,0xFF,0xE0     ;     ----------------------
                DB      0x1F,0xFF,0xFF,0xF8     ;   --------------------------
                DB      0x7F,0xFF,0xFF,0xFE     ; ------------------------------
                DB      0x3F,0xFE,0x7F,0xFC     ;  -------------  -------------
                DB      0x0F,0xF1,0x1F,0xF0     ;    ---------      ---------
                DB      0x07,0xE0,0x07,0xE0     ;     ------          ------
                DB      0x00,0x00,0x00,0x00     ;Clear finally
                DB      0xAA,0x00               ;Sentinel value (exit loop)
;------------------------------------------------------------------------------

CHARACTERS:
	DW ZERO_,ONE_,TWO_,THREE_,FOUR_,FIVE_,SIX_,SEVEN_,EIGHT_,NINE_,A_,B_,C_,D_,E_,F_,G_,H_,I_,J_,K_,L_,M_,N_,O_,P_,Q_,R_,S_,T_,U_,V_,W_,X_,Y_,Z_,NULL_

COMMANDS:;
	;Lights
	DW	ToggleLight	;a
	DW	RedLight	;b
	DW	GreenLight	;c
	DW	BlueLight	;d
	DW	YellowLight	;e
	DW	PurpleLight	;f
	DW	CyanLight	;g
	DW	WhiteLight	;h
	
	;Other Commands
	DW	Pause		;i
	DW	StartTextReceive;j
	
	;Patterns
	DW	CheckerBoard	;k
	DW	HappyFace	;l
	DW	Diamond		;m
	DW	DownArrow	;n
	DW	UpArrow		;o
	DW	Heart       ;p

	DW	WaterPump	;q
;-------------------------------------------------------------------------------
#define		TEXT		2400h
#define         DELAY           R14     ;Delay register
#define         PATTERN         R13     ;Register that holds the displaying pattern
#define         VALVES          R12     ;Holds the value to be sent to the valves
#define		CURRENTPATTERN	R11	;Holds current pattern for loop
#define		RX		R10
#define 	CHARACTER_MEM	R9	;Holds temporarily a character read from memory
#define		PATTERN_END	R8	;Holds the addresss to end pattern
#define		STATUS		R5 ;BIT0 = 0 NOT receiving text / 1 Receiving text
				   		   ;BIT1 = 0 NOT Displaying Text / 1 Displaying Text
				           ;BIT2 = 0 NOT finished reading text from memory / FINISHED reading text from memory
#define		TEXT_INDEX	R6
;-------------------------------------------------------------------------------
RESET		
                mov.w   #003400h,SP             ;Initialize Stackpointer
StopWDT		
                mov.w   #WDTPW+WDTHOLD,&WDTCTL  ;Stop WDT
Initialize      
                ;Initialize water level sensors and input buttons
                mov.b   #01111111b,&P1DIR       ;P1.0-6 as input (output o/w)
                bic.b   #BIT0+BIT1+BIT2+BIT3+BIT4+BIT5+BIT6,&P1IES       ;P1.0-6 rising edge interrupts
                ;bis.b   #BIT0+BIT1+BIT2+BIT3+BIT4+BIT5+BIT6,&P1IE        ;P1.0-6 enable interrupts
                ;Initialize 32 water valves
                clr.b   &P4SEL                  ;P4 as GPIO
                mov.b   #0xFF,&P4DIR            ;P4 as output (1-8 valves)
                clr.b   &P4OUT                  ;P4 low output (1-8 valves)
                clr.b   &P2SEL                  ;P2 as GPIO
                mov.b   #0xFF,&P2DIR            ;P2 as output (9-16 valves)
                clr.b   &P2OUT                  ;P2 low output (9-16 valves)
                clr.b   &P6SEL                  ;P6 as GPIO
                mov.b   #0xFF,&P6DIR            ;P6 as output (17-24 valves)
                clr.b   &P6OUT                  ;P6 low output (17-24 valves)
                clr.b   &P7SEL                  ;P7 as GPIO
                mov.b   #0xFF,&P7DIR            ;P7 as output (25-32 valves)
                clr.b   &P7OUT                  ;P7 low output (25-32 valves)
		
                ;Initialize status LEDs (Display, Light, U.T., L.T.)
                bic.b   #BIT0+BIT1+BIT6+BIT7,&P5SEL     ;P5.0-1 & 6-7 GPIO
                bis.b   #BIT0+BIT1+BIT6+BIT7,&P5DIR     ;P5.0-1 & 6-7 output
                bic.b   #BIT0+BIT1+BIT6+BIT7,&P5OUT     ;P5.0-1 & 6-7 low output
		
                ;Initialize lighting module, System LED, and water pump
                bic.b   #BIT0+BIT1+BIT2+BIT5+BIT6+BIT7,&P3SEL  ;P3.0-2 & 5-7 GPIO
                bis.b   #BIT0+BIT1+BIT2+BIT5+BIT6+BIT7,&P3DIR  ;P3.0-2 & 5-7 as output
                bic.b   #BIT5+BIT6,&P3OUT       ;P3.0-2 & 5-6 low output
                bis.b   #BIT0+BIT1+BIT2+BIT7,&P3OUT            ;P3.7 high output 
		
                ;Initialize UART module / SetupUSCI0 	
		bis.b	#UCSWRST,&UCA0CTL1
		bis.b	#BIT3+BIT4,&P3SEL				;set Port to their internal functions (TX and RX)
		bic.b	#UCMODE0 + UCSYNC + UC7BIT,&UCA0CTL0		;UART mode + Asynchronous mode + 8-bit data
		bis.b   #UCSSEL_2,&UCA0CTL1				;SMCLCK ; baud 9600
        mov.b	#109,&UCA0BR0					;Less significant byte
		mov.b	#0,&UCA0BR1					;Most significant byte
		mov.b	#UCBRS_2 + UCBRF_0,&UCA0MCTL
            	bic.b   #UCSWRST,&UCA0CTL1      			; Initialize USCI state machine
		bis.b	#UCRXIE,&UCA0IE
		
                ;Initialize TimerA0 for displaying
                bis.w   #CCIE,TA0CCTL0                  ;Enable TA0 CCR0 interrupt
                bis.w   #TASSEL_1+MC_2+TACLR,TA0CTL     ;ACLK, Continuous Mode, Clear TAR
		
               ;Initialize TimerA1 for monitoring water levels
                bis.w   #CCIE,TA1CCTL0                  ;Enable TA1 CCR0 interrupt
                mov.w   #8192,TA1CCR0                   ;~4Hz for monitoring water valves
                bis.w   #TASSEL_1+MC_1+TACLR,TA1CTL     ;ACLK, Up Mode, Clear TAR
		
		;Reset Status Register
		clr	STATUS
		
		;Set default pattern
		movx.a   #HAPPY_FACE_,PATTERN
		movx.a	 R13,CURRENTPATTERN
		
                ;Enter low power mode and enable interrupts
                bis 	#GIE+CPUOFF,SR

;-------------------------------------------------------------------------------
;               TimerA0 ISR
;-------------------------------------------------------------------------------
TA0_ISR         
		movx.a  R11,PATTERN	;R11 => CURRENTPATTERN / PATTERN => R13 
		bit.b	#10b, STATUS		;Check if reading text from memory
		jz	CH_TA0_STAT
GET_NEXT_CHAR	call	#DISPLAY_TEXT
		
CH_TA0_STAT
;                bit.b   #BIT5,&P3OUT            ;Check system status
 ;               jz      TA0_FIN                 ;Skip if system is off
                bit.b   #01b,&P5OUT            ;Check display status
                jz      TA0_FIN                 ;Skip if display is off
    ;            bit.b   #BIT4,&P1IN             ;Check lower tank's water level
     ;           jnz     TA0_FIN                 ;Skip if water level is critical
      ;          bit.b   #BIT5,&P1IN             ;Check upper tank's water level
       ;         jnz     TA0_FIN                 ;Skip if water level is critical
		
		
LOOP            
		bit	#100b, STATUS	;Check if finished reading text from memory
		jc	TA0_FIN
		cmp	R8,R13	;PATTERN_END => R8	;Holds the addresss to end pattern
		jeq     GET_NEXT_CHAR
		cmp.b   #0xAA,0(R13)    ;Compare sentinel value to end display
                jeq     TA0_FIN
                mov.b   @R13+,&P4OUT
                mov.b   @R13+,&P2OUT
                mov.b   @R13+,&P6OUT
                mov.b   @R13+,&P7OUT
                call    #TA0_WAIT
                jmp     LOOP
TA0_FIN		
		bis.w	#TACLR,TA0CTL
                reti
;-------------------------------------------------------------------------------
;               TimerA1 ISR
;*******************************************************************************
;               This ISR is used as another safeguard to monitor the
;               water levels in both tanks and turn on/off the
;               corresponding components in the system.
;-------------------------------------------------------------------------------
TA1_ISR
                reti
;-------------------------------------------------------------------------------
;               Port 1 ISR: Interrupt Vector Handler for Port 1
;-------------------------------------------------------------------------------
P1_ISR
                addx.w  &P1IV,PC
                reti                    ;Vector 0: No interrupt
                jmp     P1_0_ISR        ;Vector 2: Port 1 Bit 0 (System Button)                
                jmp     P1_1_ISR        ;Vector 4: Port 1 Bit 1 (Display Button)      
                jmp     P1_2_ISR        ;Vector 6: Port 1 Bit 2 (Light Button)
                jmp     P1_3_ISR        ;Vector 8: Port 1 Bit 3 (LT U Sensor)
                jmp     P1_4_ISR        ;Vector 10: Port 1 Bit 4 (LT L Sensor)
                jmp     P1_5_ISR        ;Vector : Port 1 Bit 5 (UT L Sensor)
                jmp     P1_6_ISR        ;Vector 14: Port 1 Bit 6 (UT U Sensor)
                reti                    ;Vector 16: Port 1 Bit 7 (No Interrupt)
;-------------------------------------------------------------------------------
;               P1.0 ISR: System Button
;-------------------------------------------------------------------------------       
P1_0_ISR        
                ;Switch Debouncing
                bic.b   #BIT0,&P1IFG
                call    #DEB_WAIT
                bic.b   #BIT0,&P1IFG
                reti
;-------------------------------------------------------------------------------
;               P1.1 ISR: Display Button
;-------------------------------------------------------------------------------       
P1_1_ISR        
                ;Switch Debouncing
                bic.b   #BIT1,&P1IFG
                call    #DEB_WAIT
                bic.b   #BIT1,&P1IFG
                reti
;-------------------------------------------------------------------------------
;               P1.2 ISR: Light Button
;*******************************************************************************
;               This ISR is responsible for turning on/off the lights
;               in the system.
;-------------------------------------------------------------------------------       
P1_2_ISR               
                ;Switch Debouncing
                bic.b   #BIT2,&P1IFG
                call    #DEB_WAIT
                bic.b   #BIT2,&P1IFG

                bit.b   #BIT5,&P3OUT            ;Check system status
                jz      P1_2_FIN                ;Skip if system is off
                xor.b   #00000010b,&P5OUT       ;Toggle light status LED
                xor.b   #10000000b,&P3OUT       ;Toggle lights
P1_2_FIN        
                reti
;-------------------------------------------------------------------------------
;               P1.3 ISR: Lower Tank's Upper Water Level Sensor
;*******************************************************************************
;               This ISR is responsible for turning on the water pump once
;               the lower tank is filled to the desired water level.
;-------------------------------------------------------------------------------       
P1_3_ISR        
                bic.b   #BIT3,&P1IFG
                bit.b   #BIT5,&P3OUT            ;Check system status
                jz      P1_3_FIN                ;Skip if system is off
                bis.b   #BIT6,&P3OUT            ;Turn on water pump
P1_3_FIN                
                reti
;-------------------------------------------------------------------------------
;               P1.4 ISR: Lower Tank's Lower Water Level Sensor
;*******************************************************************************
;               This ISR is responsible for turning off the water pump 
;               when the lower tank's water level enters the critical level.
;               It also turns off the display to protect the system.
;-------------------------------------------------------------------------------       
P1_4_ISR     
                bic.b   #BIT4,&P1IFG
                bit.b   #BIT5,&P3OUT            ;Check system status
                jz      P1_4_FIN                ;Skip if system is off
                bis.b   #BIT7,&P5OUT            ;Turn on LT warning LED
                bic.b   #BIT0,&P5OUT            ;Turn off display
                bic.b   #BIT6,&P3OUT            ;Turn off water pump
P1_4_FIN                
                reti
;-------------------------------------------------------------------------------
;               P1.5 ISR: Upper Tank's Lower Water Level Sensor
;*******************************************************************************
;               This ISR is responsible for turning on the water pump 
;               when the upper tank's water level enters the critical level.
;               It also turns off the display to protect the system.
;-------------------------------------------------------------------------------       
P1_5_ISR        
                bic.b   #BIT5,&P1IFG
                bit.b   #BIT5,&P3OUT            ;Check system status
                jz      P1_5_FIN                ;Skip if system is off
                bis.b   #BIT6,&P5OUT            ;Turn on UT warning LED
                bic.b   #BIT0,&P5OUT            ;Turn off display
                bis.b   #BIT6,&P3OUT            ;Turn on water pump
P1_5_FIN                
                reti
;-------------------------------------------------------------------------------
;               P1.6 ISR: Upper Tank's Upper Water Level Sensor
;*******************************************************************************
;               This ISR is responsible for turning off the water pump once
;               the upper tank is filled to the desired water level.
;-------------------------------------------------------------------------------       
P1_6_ISR        
                bic.b   #BIT6,&P1IFG
                bit.b   #BIT5,&P3OUT            ;Check system status
                jz      P1_6_FIN                ;Skip if system is off
                bic.b   #BIT6,&P3OUT            ;Turn off water pump
P1_6_FIN                
                reti
;-------------------------------------------------------------------------------
;		Subroutine: Delay for Timer A0
;*******************************************************************************
;               This subroutine is used to provide a delay between row
;               patterns of the display.
;-------------------------------------------------------------------------------
TA0_WAIT    	
                movx.a 	#10500,DELAY
L1		
                decx.a 	DELAY			
		jnz 	L1
		ret
;-------------------------------------------------------------------------------
;		Subroutine: Delay for Debouncing
;*******************************************************************************
;               This subroutine provides a delay used for switch debouncing
;               through software.
;-------------------------------------------------------------------------------
DEB_WAIT    	
                movx.a 	#50000,DELAY
L2		
                decx.a 	DELAY			
		jnz 	L2
		ret
;-------------------------------------------------------------------------------
;		Subroutine: Set pattern
;*******************************************************************************
;               This subroutine is used to point the system to the address
;               that contains the pattern to be displayed.
;-------------------------------------------------------------------------------
DISPLAY_TEXT     
			bic	#100b, STATUS
			mov.b	@R6, CHARACTER_MEM	;TEXT_INDEX => R6
			inc	R6
			cmp	#0x5F, CHARACTER_MEM 	;0x5F = _ / End character
			jne	CONT_TEXT_DSPL
			movx.a  #TEXT,TEXT_INDEX	;Reset index to first RAM address to store text
			mov.b	@R6, CHARACTER_MEM	;TEXT_INDEX => R6
			movx.a  #NULL_,PATTERN
			bis	#100b, STATUS		;Set BIT2 to know that finished reading all characters from memory 
			jmp	END_DISPLAY_TEXT		
CONT_TEXT_DSPL		
			add	#-48, CHARACTER_MEM	;CHARACTER_MEM => R9 / 48 is the ASCII value of 0
			cmp	#10,CHARACTER_MEM 	; CHARACTER_MEM - 9 / Check if CHARACTER_MEM is a number
			jn	BROWSE_CHARACTER	
			add	#-7,CHARACTER_MEM	;R9
			
BROWSE_CHARACTER	add	R9,R9
			mov.w	CHARACTERS(R9),R13	;Pattern start address
			incd	R9			;double increment to point pattern end address
			mov.w	CHARACTERS(R9),R8	;PATTERN_END => R8
			movx.a  R13,CURRENTPATTERN	;R13 = PATTERN
END_DISPLAY_TEXT        
			ret
;-------------------------------------------------------------------------------
;		Subroutine: Set pattern
;-------------------------------------------------------------------------------
BLUETOOTH_RECEIVE_ISR     
		mov.b	UCA0RXBUF, RX
		bit.b	#01b, STATUS	;BIT0 = 1 Receiving text / STATUS = R5
		jz 	COMMANDS_RESUME	;Not reading text
		cmp	#0x5F, RX 	;0x5F = _ End Receiving Text?
		jeq	EndTextReceive
		;NO, Continue receiving text
		mov.b   RX,0(R6)	;TEXT_INDEX => R6	
		inc.w	R6
		jmp	ENDCOMMAND
		
EndTextReceive
		mov.b   RX,0(R6)
		bis.b	#10b, STATUS		;Set Display to start reading text from memory	
		bic.b	#01b, STATUS		;Finish receiving text
		movx.a  #TEXT,TEXT_INDEX	;RAM address to start reading text from memory
		jmp	ENDCOMMAND
COMMANDS_RESUME		
		add.b	#-97,RX
		add.b	RX,RX
		add	#COMMANDS,RX		
		mov	@RX, RX		
		br	RX	
ToggleLight;0
		xor.b   #10000000b,&P3OUT
		jmp	ENDCOMMAND
RedLight;2	
		bic.b   #00000111b,&P3OUT
		bis.b   #00000001b,&P3OUT
		jmp	ENDCOMMAND
GreenLight;4
		bic.b   #00000111b,&P3OUT
		bis.b   #00000010b,&P3OUT
		jmp	ENDCOMMAND
BlueLight;6
		bic.b   #00000111b,&P3OUT
		bis.b   #00000100b,&P3OUT
		jmp	ENDCOMMAND
YellowLight;8
		bic.b   #00000111b,&P3OUT
		bis.b   #00000011b,&P3OUT
		jmp	ENDCOMMAND
PurpleLight;10	
		bic.b   #00000111b,&P3OUT
		bis.b   #00000101b,&P3OUT
		jmp	ENDCOMMAND
CyanLight;12
		bic.b   #00000111b,&P3OUT
		bis.b   #00000110b,&P3OUT
		jmp	ENDCOMMAND
WhiteLight;14
		bic.b   #00000111b,&P3OUT
		bis.b   #00000111b,&P3OUT
		jmp	ENDCOMMAND
Pause;16
		;Toggle display status FOR NOW
        xor.b   #BIT0,&P5OUT
		bit.b	#10b, STATUS		;Check if reading text from memory
		jz	ENDCOMMAND
		movx.a  #TEXT,TEXT_INDEX	;Reset index to first RAM address to store text
		jmp	ENDCOMMAND
StartTextReceive;18
		bis.b	#01b, STATUS
		bic.b	#10b, STATUS		
		movx.a  #TEXT,TEXT_INDEX	;First RAM address to store text
									;BIT0 = 0 NOT receiving text / 1 Receiving text
									;BIT1 = 0 NOT Displaying Text / 1 Displaying Text
		jmp	ENDCOMMAND
CheckerBoard;20
		bic.b	#10b, STATUS
		movx.a  #CHECKERBOARD_,PATTERN
		movx.a  R13,CURRENTPATTERN	;R13 = PATTERN
		jmp	ENDCOMMAND
HappyFace;22
		bic.b	#10b, STATUS	
		movx.a  #HAPPY_FACE_,PATTERN
		movx.a  R13,CURRENTPATTERN	;R13 = PATTERN
		jmp	ENDCOMMAND
Diamond;24
		bic.b	#10b, STATUS		
		movx.a  #DIAMOND_,PATTERN
		movx.a  R13,CURRENTPATTERN	;R13 = PATTERN
		jmp	ENDCOMMAND
DownArrow;26
		bic.b	#10b, STATUS		
		movx.a  #DOWN_ARROW_,PATTERN
		movx.a  R13,CURRENTPATTERN	;R13 = PATTERN
		jmp	ENDCOMMAND
UpArrow;28
		bic.b	#10b, STATUS	
		movx.a  #UP_ARROW_,PATTERN
		movx.a  R13,CURRENTPATTERN	;R13 = PATTERN
		jmp	ENDCOMMAND
Heart;30
		bic.b	#10b, STATUS	
		movx.a  #HEART_,PATTERN
		movx.a  R13,CURRENTPATTERN	;R13 = PATTERN
		jmp	ENDCOMMAND
WaterPump;32
		xor.b	#01000000b,&P3OUT	
		jmp	ENDCOMMAND		
ENDCOMMAND	reti	


;-------------------------------------------------------------------------------
;               Interrupt Vectors
;-------------------------------------------------------------------------------
                ORG     00FFFEh
                DW      RESET
                ORG     00FFEAh
                DW      TA0_ISR
                ORG     0FFE2h
                DW      TA1_ISR
                ORG     0FFDEh
                DW      P1_ISR
		ORG	0FFF0h	; Transmit / Receive Interrupts
		DW	BLUETOOTH_RECEIVE_ISR
                END